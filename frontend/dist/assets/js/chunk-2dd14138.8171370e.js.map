{"version":3,"sources":["webpack:///./src/views/Portfolio.vue","webpack:///./src/components/ProjectItem.vue","webpack:///./src/components/ProjectItem.vue?1f86","webpack:///./src/views/Portfolio.vue?53bc","webpack:///./src/views/Portfolio.vue?7b53","webpack:///./src/components/ProjectItem.vue?b308"],"names":["class","_createTextVNode","_createElementBlock","_createElementVNode","_createVNode","_component_SmallSectionTitle","default","_hoisted_3","_","_Fragment","_renderList","projects","project","index","_createBlock","_component_ProjectItem","_component_FormSection","figure","_component_SectionContacts","ref","_normalizeClass","$props","$options","_component_BackgroundFigure","key","name","_createCommentVNode","_component_ProjectLinkImage","onClick","to","params","id","image","alt","_hoisted_6","_hoisted_4","_hoisted_7","_component_ParamsList","items","components","ProjectLinkImage","ParamsList","props","type","Array","required","Number","computed","this","preview_images","image2","slug","figures","figuresIndex","length","attributes","attribute","preview_attributes","push","value","methods","mapMutations","setLeaveDelay","setLeaveDuration","setEnterDuration","setProjectTransition","startLeaveAnimation","window","innerWidth","$breakpoints","xl","disablePageScroll","delay","sDur","duration","fixedImage","document","createElement","setAttribute","style","cssText","querySelector","insertAdjacentElement","$refs","$el","classList","add","yValue","getBoundingClientRect","top","xValue","left","wValue","width","hValue","height","w2Value","leaveAnimation","gsap","timeline","title","sideImage","autoAlpha","x","ease","set","fromTo","y","css","innerHeight","__exports__","mixins","ViewAnimationEvents","ProjectItem","SectionContacts","FormSection","mapState","state","route","data","render"],"mappings":"8LAASA,MAAM,qB,GAAyBA,MAAM,a,EAA9CC,eAA6E,e,gMAA7EC,2CAAwP,UAAxP,EAAwP,CAArNC,eAA+E,MAA/E,EAA+E,CAAxDC,eAAkDC,EAAA,MAA5GC,uBAA6E,IAAW,CAAxFC,IAAAC,SAAwP,mBAAtIN,eAA4HO,OAAA,KAA9OC,eAAkLC,WAAlL,CAA+JC,EAASC,K,iBAAtDC,eAA4HC,EAAA,CAA/Gf,MAAM,kBAAwDa,MAAOA,EAAQF,SAAUA,YAApG,uCAAsIP,eAA2CY,EAAA,CAA7BC,QAAQ,IAAqBb,eAAmCc,IAAtU,I,qCCAqNlB,MAAM,a,GAAiBA,MAAM,yB,EAAlP,oB,EAAA,oB,GAAsxBA,MAAM,kGAAkGmB,IAAI,a,EAAl4B,a,EAAA,oB,GAAupCnB,MAAM,iF,+JAA7pCE,eAAszC,WAA7yCF,MAAToB,gBAAe,uBAAsB,gBAAyBC,WAA9D,CAA4HC,2BAArDR,eAAyIS,EAAA,CAAhNC,MAAyFxB,MAAzFoB,gBAA+F,uBAAsB,wBAA8DE,WAA9CG,KAAMH,UAApE,0BAAvEI,sBAAgNvB,eAA4lC,MAA5lC,EAA4lC,CAArkCA,eAA+jC,MAA/jC,EAA+jC,CAA5hCA,eAA8W,OAAzWH,MAAM,4DAA4D,WAAS,UAAU,oBAAkB,MAAO,kBAAe,iBAAmBqB,SAArJ,CAA8JjB,eAA0MuB,EAAA,CAAxL3B,MAAM,2DAA2DmB,IAAI,QAASS,QAAON,sBAAsBO,GAAE,CAAAJ,eAAAK,QAAAC,GAAiCT,SAASU,MAAOV,SAAhL,kCAA9J,EAA1Qf,GAAwnBJ,eAAuV,OAAlVH,MAAM,kDAAkD,WAAS,eAAe,oBAAkB,MAAO,kBAAe,iBAAmBqB,SAAhJ,CAAyJlB,eAAwL,MAAxL,EAAwL,CAA3DA,eAAqD,OAAhDH,MAAM,WAAY,WAAUsB,SAAQW,IAAI,SAA7C,OAA94BC,IAAixB,MAAzJ,EAAxnBC,GAA+8BhC,eAAmM,MAA/LH,MAAM,sCAAsC,WAAS,aAAa,oBAAkB,MAAO,kBAAe,iBAAmBqB,SAAjI,CAA0IlB,eAAoD,MAAhDH,MAAM,iBAAiBmB,IAAI,SAA/B,eAAyCG,QAAI,MAAvL,EAA/8Bc,GAAkpCjC,eAA8I,MAA9I,EAA8I,CAAnDC,eAA6CiC,EAAA,CAAhCC,MAAOhB,cAAU,yBAA3wC,G,gEA8Ce,GACbiB,WAAY,CACVC,wBACAC,mBAEFC,MAAO,CACL/B,SAAU,CACRgC,KAAMC,MACNC,UAAU,GAEZhC,MAAO,CACL8B,KAAMG,OACND,UAAU,IAGdE,SAAU,CACRf,QACE,OAAOgB,KAAKrC,SAASqC,KAAKnC,OAAOoC,eAAe,IAElDxB,OACE,OAAOuB,KAAKrC,SAASqC,KAAKnC,OAAOY,MAEnCyB,SACE,OAAOF,KAAKrC,SAASqC,KAAKnC,OAAOoC,eAAe,IAElDE,OACE,OAAOH,KAAKrC,SAASqC,KAAKnC,OAAOsC,MAEnClC,SACE,MAAMmC,EAAU,CAAC,KAAM,KAAM,MAC7B,IAAIC,EAAe,EACnB,IAAK,IAAIxC,KAASmC,KAAKrC,SACrB,GAAIE,EAAQ,IAAM,EAAG,CACnB,GAAIA,GAASmC,KAAKnC,MAChB,OAAOuC,EAAQC,GAEjBA,EAAeA,GAAgBD,EAAQE,OAAS,EAAI,EAAID,EAAe,IAI7EE,aACE,MAAMA,EAAa,CAAC,IACpB,IAAK,IAAIC,KAAaR,KAAKrC,SAASqC,KAAKnC,OAAO4C,mBAC9CF,EAAW,GAAGG,KAAKF,EAAUG,OAE/B,OAAOJ,IAGXK,QAAS,IACJC,eAAa,CACdC,cAAe,yBACfC,iBAAkB,4BAClBC,iBAAkB,4BAClBC,qBAAsB,kCAExBC,sBACE,GAAIC,OAAOC,WAAapB,KAAKqB,aAAaC,GAAI,OAE9CC,iCAEA,MAAMC,EAAQC,OAAK,GACbC,EAAWD,OAAK,GAAKA,OAAK,GAE1BE,EAAaC,SAASC,cAAc,OAC1CF,EAAWG,aAAa,MAAO9B,KAAKhB,OACpC2C,EAAWI,MAAMC,QAAU,2IAO3BJ,SAASK,cAAc,YAAYC,sBAAsB,aAAcP,GAEvE3B,KAAKc,cAAcU,GACnBxB,KAAKe,iBAAiBW,GACtB1B,KAAKgB,iBAAiB,GAEtBhB,KAAKmC,MAAMnD,MAAMoD,IAAIC,UAAUC,IAAI,SAEnC,MAAMC,EAASvC,KAAKmC,MAAMnD,MAAMoD,IAAII,wBAAwBC,IACtDC,EAAS1C,KAAKmC,MAAMnD,MAAMoD,IAAII,wBAAwBG,KACtDC,EAAS5C,KAAKmC,MAAMnD,MAAMoD,IAAII,wBAAwBK,MACtDC,EAAS9C,KAAKmC,MAAMnD,MAAMoD,IAAII,wBAAwBO,OACtDC,EAAUhD,KAAKoC,IAAII,wBAAwBK,MAEjD7C,KAAKiD,eAAiBC,OAAKC,WACxBtE,GAAG,CAACmB,KAAKmC,MAAMiB,MAAOpD,KAAKmC,MAAMkB,WAChC,CAAEC,UAAW,EAAG5B,SAAUF,IAC3B3C,GAAGmB,KAAKmC,MAAMiB,MACb,CAAEG,GAAI,GAAI7B,SAAUF,EAAOgC,KAAM,aAAe,KACjD3E,GAAGmB,KAAKmC,MAAMkB,UACb,CAAEE,EAAG,GAAI7B,SAAUF,EAAOgC,KAAM,aAAe,KAEhDC,IAAI9B,EACH,CAAE2B,UAAW,IACdI,OAAO/B,EACN,CAAE4B,EAAGb,EAAQiB,EAAGpB,GAChB,CAAEgB,EAAG,EAAGI,EAAG,EAAGjC,SAAUA,IACzBgC,OAAO/B,EACN,CAAEiC,IAAK,CAAEf,MAAUD,EAAF,KAAcG,OAAWD,EAAF,OACxC,CAAEc,IAAK,CAAEf,MAAUG,EAAF,KAAeD,OAAW5B,OAAO0C,YAAT,MAA4BnC,SAAUA,GAAY,KAE/F1B,KAAKiB,qBAAqB,CAAEjC,MAAO2C,O,iCC9IzC,MAAMmC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,wBFYA,GACbC,OAAQ,CAACC,QACTzE,WAAY,CACV0E,cACAC,uBACAC,oBAEFpE,SAAU,IACLqE,eAAS,CACVzG,SAAU0G,GAASA,EAAMC,MAAMC,KAAK5G,a,UGvB1C,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS6G,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W,kCCAA","file":"assets/js/chunk-2dd14138.8171370e.js","sourcesContent":["<template lang=\"pug\">\r\n\r\nsection.section.portfolio\r\n  .container\r\n    SmallSectionTitle Все проекты\r\n\r\n  ProjectItem.portfolio__item(v-for=\"(project, index) in projects\" :index=\"index\" :projects=\"projects\")\r\n\r\nFormSection(:figure=\"false\")\r\nSectionContacts\r\n\r\n</template>\r\n\r\n<script>\r\nimport ViewAnimationEvents from \"@/mixins/ViewAnimationEvents\";\r\n\r\nimport { mapState } from \"vuex\";\r\nimport ProjectItem from \"@/components/ProjectItem\";\r\nimport SectionContacts from \"@/components/SectionContacts\";\r\nimport FormSection from \"@/components/FormSection\";\r\n\r\nexport default {\r\n  mixins: [ViewAnimationEvents],\r\n  components: {\r\n    ProjectItem,\r\n    SectionContacts,\r\n    FormSection\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      projects: state => state.route.data.projects\r\n    })\r\n  }\r\n}\r\n</script>]\r\n\r\n<style lang=\"scss\" scoped>\r\n  .portfolio {\r\n    &__item {\r\n      margin: 0;\r\n      &:not(:last-child) {\r\n        margin-bottom: var(--section-small-margin);\r\n      }\r\n    }\r\n  }\r\n</style>","<template lang=\"pug\">\r\nsection.section.project-item(:class=\"`project-item_${index}`\")\r\n  BackgroundFigure.project-item__figure(\r\n    v-if=\"figure\"\r\n    :name=\"figure\"\r\n    :class=\"`project-item__figure_${figure}`\")\r\n  .container\r\n    .row.project-item__row\r\n      .col-10.offset-2.col-md-8.offset-md-1.col-xl-8.offset-xl-2(\r\n        data-aos=\"zoom-in\" \r\n        data-aos-duration=\"500\"\r\n        :data-aos-anchor=\"`.project-item_${index}`\")\r\n        ProjectLinkImage.project-item__image.image-size-side.image-size-md-normal(\r\n          ref=\"image\"\r\n          @click=\"startLeaveAnimation\"\r\n          :to=\"{name: 'project', params: {id: slug}}\"\r\n          :image=\"image\")\r\n          \r\n      .col-md-2.offset-md-1.col-xl-1.d-none.d-md-block(\r\n        data-aos=\"zoom-in-left\" \r\n        data-aos-duration=\"500\"\r\n        :data-aos-anchor=\"`.project-item_${index}`\")\r\n        .project-item__image.project-item__side-image.image-content.image.image_cover.image-size-md-side(ref=\"sideImage\")\r\n          img.lazyload(\r\n            :data-src=\"image2\"\r\n            alt=\"image\")\r\n\r\n      h2.col-10.col-lg-7.project-item__title(\r\n        data-aos=\"fade-right\" \r\n        data-aos-duration=\"500\" \r\n        :data-aos-anchor=\"`.project-item_${index}`\")\r\n        h2.h1.font-accent(ref=\"title\") {{name}}\r\n      \r\n      .col-sm-10.offset-sm-2.col-md-6.col-xl-4.offset-xl-5.project-item__params-list\r\n        ParamsList(:items=\"attributes\")\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nimport gsap from \"@/assets/js/gsap.js\";\r\nimport { sDur } from \"@/assets/js/animation-duration\";\r\nimport { disablePageScroll }  from  'scroll-lock';\r\nimport ProjectLinkImage from \"@/components/ProjectLinkImage\";\r\nimport ParamsList from '@/components/ParamsList';\r\n\r\nexport default {\r\n  components: {\r\n    ProjectLinkImage,\r\n    ParamsList\r\n  },\r\n  props: {\r\n    projects: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    image() {\r\n      return this.projects[this.index].preview_images[0];\r\n    },\r\n    name() {\r\n      return this.projects[this.index].name;\r\n    },\r\n    image2() {\r\n      return this.projects[this.index].preview_images[1];\r\n    },\r\n    slug() {\r\n      return this.projects[this.index].slug;\r\n    },\r\n    figure() {\r\n      const figures = ['15', '16', '17'];\r\n      let figuresIndex = 0;\r\n      for (let index in this.projects) {\r\n        if (index % 3 === 0) {\r\n          if (index == this.index) {\r\n            return figures[figuresIndex];\r\n          }\r\n          figuresIndex = figuresIndex == figures.length - 1 ? 0 : figuresIndex + 1;\r\n        }\r\n      }\r\n    },\r\n    attributes() {\r\n      const attributes = [[]];\r\n      for (let attribute of this.projects[this.index].preview_attributes) {\r\n        attributes[0].push(attribute.value)\r\n      }\r\n      return attributes;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setLeaveDelay: 'transition/LEAVE_DELAY',\r\n      setLeaveDuration: 'transition/LEAVE_DURATION',\r\n      setEnterDuration: 'transition/ENTER_DURATION',\r\n      setProjectTransition: 'transition/PROJECT_TRANSITION'\r\n    }),\r\n    startLeaveAnimation() {\r\n      if (window.innerWidth < this.$breakpoints.xl) return;\r\n\r\n      disablePageScroll();\r\n      //timing\r\n      const delay = sDur[2];\r\n      const duration = sDur[4] - sDur[2];\r\n      //create fixed image\r\n      const fixedImage = document.createElement('img');\r\n      fixedImage.setAttribute('src', this.image);\r\n      fixedImage.style.cssText = `\r\n        object-fit: cover;\r\n        position: fixed;\r\n        z-index: 1000;\r\n        opacity: 0;\r\n        visibility: hidden;\r\n      `;\r\n      document.querySelector('.wrapper').insertAdjacentElement('afterbegin', fixedImage);\r\n      //change global animation timing\r\n      this.setLeaveDelay(delay);\r\n      this.setLeaveDuration(duration);\r\n      this.setEnterDuration(0);\r\n\r\n      this.$refs.image.$el.classList.add('clear');\r\n      \r\n      const yValue = this.$refs.image.$el.getBoundingClientRect().top,\r\n            xValue = this.$refs.image.$el.getBoundingClientRect().left,\r\n            wValue = this.$refs.image.$el.getBoundingClientRect().width,\r\n            hValue = this.$refs.image.$el.getBoundingClientRect().height,\r\n            w2Value = this.$el.getBoundingClientRect().width;\r\n\r\n      this.leaveAnimation = gsap.timeline()\r\n        .to([this.$refs.title, this.$refs.sideImage],\r\n          { autoAlpha: 0, duration: delay })\r\n        .to(this.$refs.title, \r\n          { x: -50, duration: delay, ease: 'power2.in' }, '<')\r\n        .to(this.$refs.sideImage, \r\n          { x: 50, duration: delay, ease: 'power2.in' }, '<')\r\n\r\n        .set(fixedImage, \r\n          { autoAlpha: 1 })\r\n        .fromTo(fixedImage, \r\n          { x: xValue, y: yValue },\r\n          { x: 0, y: 0, duration: duration })\r\n        .fromTo(fixedImage, \r\n          { css: { width: `${wValue}px`, height: `${hValue}px` } },\r\n          { css: { width: `${w2Value}px`, height: `${window.innerHeight}px` }, duration: duration }, '<')\r\n\r\n      this.setProjectTransition({ image: fixedImage });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.project-item {\r\n  position: relative;\r\n  &__figure {\r\n    &_15 {\r\n      width: 86%;\r\n      top: 0;\r\n      left: 0;\r\n      transform: translateY(-15%);\r\n    }\r\n    &_16 {\r\n      width: 100%;\r\n      top: 0;\r\n      left: 0;\r\n      transform: translateY(-35%);\r\n    }\r\n    &_17 {\r\n      width: 80%;\r\n      top: 0;\r\n      left: 5%;\r\n      transform: translateY(-15%);\r\n    }\r\n  }\r\n  &__row {\r\n    position: relative;\r\n  }\r\n  &__image {\r\n    --overlay: 0.4;\r\n    --image-size: 70%;\r\n    &.clear {\r\n      --overlay: 0;\r\n      --overlay-hover: 0;\r\n    }\r\n  }\r\n  &__side-image {\r\n    height: 100%;\r\n    &::after {\r\n      padding: 0;\r\n      height: 100%;\r\n    }\r\n  }\r\n  &__title {\r\n    margin: 0 !important;\r\n    position: absolute;\r\n    z-index: 2;\r\n    top: 20%;\r\n    min-height: calc(2em * var(--title-h1-line-height));\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    pointer-events: none;\r\n  }\r\n  &__params-list {\r\n    margin-top: 20px;\r\n  }\r\n  @include media-breakpoint-down(sm) {\r\n    &__figure {\r\n      &_15 {\r\n        width: 150%;\r\n        transform: translateY(-30%);\r\n      }\r\n      &_17 {\r\n        width: 140%;\r\n        left: -20%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ProjectItem.vue?vue&type=template&id=0440c478&scoped=true&lang=pug\"\nimport script from \"./ProjectItem.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectItem.vue?vue&type=script&lang=js\"\n\nimport \"./ProjectItem.vue?vue&type=style&index=0&id=0440c478&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\OpenServer\\\\domains\\\\dstrct\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0440c478\"]])\n\nexport default __exports__","import { render } from \"./Portfolio.vue?vue&type=template&id=a93e1074&scoped=true&lang=pug\"\nimport script from \"./Portfolio.vue?vue&type=script&lang=js\"\nexport * from \"./Portfolio.vue?vue&type=script&lang=js\"\n\nimport \"./Portfolio.vue?vue&type=style&index=0&id=a93e1074&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\OpenServer\\\\domains\\\\dstrct\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a93e1074\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Portfolio.vue?vue&type=style&index=0&id=a93e1074&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProjectItem.vue?vue&type=style&index=0&id=0440c478&lang=scss&scoped=true\""],"sourceRoot":""}